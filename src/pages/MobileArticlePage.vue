<!-- è¿™ä¸ªé¡µé¢ä¸“ä¸ºæ‰‹æœºAPPç«¯è®¾è®¡ï¼Œä»…æ˜¾ç¤ºæ–‡ç« éƒ¨åˆ†
å¯¹äºå…¶ä»–çš„ç½‘é¡µè·å–åˆ°çš„ä¿¡æ¯ï¼Œè¿™é‡Œæ‰“ç®—ç”¨ä¸å¯è§å…ƒç´ ï¼Œé¿å…é‡å¤ç½‘é¡µå’Œæ‰‹æœºé‡å¤è¯·æ±‚
è¿˜æœ‰å°±æ˜¯äº¤äº’ï¼Œç½‘é¡µä¸æä¾›ä»»ä½•äº¤äº’ï¼Œä»…ä½œä¸ºä¸€ä¸ªæ¸²æŸ“å™¨   
-->
<template>
    <main
      :style="{ 'justify-content': 'center', 'width': '100vw', 'display': 'flex' }"
    >
    <article-display :initial-html="article.content" :type="'mobile'"></article-display> 
   </main>
</template>
  <script>
  import {useRoute} from 'vue-router';
  import { getArticleDetail } from '@/axios/detail';//è·å–æ–‡ç« è¯¦ç»†å†…å®¹çš„è¯·æ±‚
  import { getStatusMessage,/*unknowError*/ } from '@/statusCodeMessages';
  import ArticleDisplay from '@/components/ArticleDisplay.vue';
    export default {
      setup(){
        return {
        }
      },
      components:{
        ArticleDisplay,
      },
      data() {
        return {
          article: {
            id:'00000000',
            title: 'æ ‡é¢˜',
            authorName: 'ä½œè€…åç§°',
            authorProfileUrl:'https://pic2.zhimg.com/v2-0dda71bc9ced142bf7bb2d6adbebe4f0_r.jpg?source=1940ef5c',
            publishTime: '2024-09-01 00:00',
            tags: ['è®¡ç®—æœº','æµ‹è¯•'],
            starCount: '0',
            scanCount: '0',
            replyCount:'0',
            content: `<p><span style="color: rgb(0, 0, 0); font-size: 24px; font-family: æ¥·ä½“;"><strong>å›¾ç‰‡ä¸è§†é¢‘ï¼š</strong></span></p><p><span style="color: rgb(0, 0, 0); font-size: 16px;"><strong>æ”¯æŒç›´æ¥åŠ è½½ç½‘ç»œå›¾ç‰‡ä»¥åŠä¸Šä¼ å›¾ç‰‡</strong></span></p><p><span style="color: rgb(0, 0, 0); font-size: 16px;"><strong>æ”¯æŒåŠ è½½ç½‘ç»œè§†é¢‘ï¼Œä¸æ”¯æŒä¸Šä¼ è§†é¢‘</strong></span></p><p><span style="color: rgb(0, 0, 0); font-size: 24px; font-family: å¾®è½¯é›…é»‘;"><strong>å…¶ä»–æ ·å¼ï¼š</strong></span></p><p><span style="color: rgb(216, 68, 147); font-size: 48px;"><strong>æ ‡é¢˜</strong></span><span style="font-size: 48px;"><strong> </strong></span><span style="color: rgb(106, 57, 201); font-size: 40px;"><strong>æ ‡é¢˜</strong></span><span style="font-size: 48px;"><strong> </strong></span><span style="color: rgb(66, 144, 247); font-size: 32px;"><strong>æ ‡é¢˜</strong></span><span style="font-size: 32px;"><strong> </strong></span><span style="color: rgb(114, 192, 64); font-size: 24px;"><strong>æ ‡é¢˜</strong></span><span style="font-size: 32px;"><strong> </strong></span><span style="color: rgb(245, 219, 77); font-size: 16px;"><strong>æ ‡é¢˜</strong></span><span style="font-size: 32px;"><strong> </strong></span><span style="color: rgb(225, 60, 57); font-size: 12px;"><strong>æ ‡é¢˜</strong></span><span style="font-size: 14px;"><strong> </strong></span><span style="font-size: 22px;"><strong> </strong></span><span style="font-size: 24px;"><strong> </strong></span><span style="font-size: 32px;"><strong> </strong></span></p><p><span style="font-size: 48px;"><strong>ğŸ˜€</strong></span><span style="font-size: 32px;"><strong> </strong></span><span style="font-size: 40px;"><strong>ğŸ˜€</strong></span><span style="font-size: 32px;"><strong> ğŸ˜€ </strong></span><span style="font-size: 24px;"><strong>ğŸ˜€</strong></span><span style="font-size: 32px;"><strong> </strong></span><span style="font-size: 16px;"><strong>ğŸ˜€</strong></span><span style="font-size: 32px;"><strong> </strong></span><span style="font-size: 12px;"><strong>ğŸ˜€</strong></span><span style="font-size: 32px;"><strong>   </strong></span></p><p><span data-w-e-type="formula" data-w-e-is-void data-w-e-is-inline data-value="\\frac{a}{b} a^2, a_i \\sqrt{a}, \\sqrt[n]{a} \\sum_{i=1}^{n} i, \\int_{a}^{b} x^2 , dx  x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}"></span></p><p> <a href="sss" target="_blank">é“¾æ¥</a> </p><table style="width: auto;"><tbody><tr><th colSpan="1" rowSpan="1" width="auto">111</th><th colSpan="1" rowSpan="1" width="auto">111</th><th colSpan="1" rowSpan="1" width="auto">111</th><th colSpan="1" rowSpan="1" width="auto">111</th></tr><tr><td colSpan="1" rowSpan="1" width="auto">111</td><td colSpan="1" rowSpan="1" width="auto">111</td><td colSpan="1" rowSpan="1" width="auto">111</td><td colSpan="1" rowSpan="1" width="auto">111</td></tr><tr><td colSpan="1" rowSpan="1" width="auto">111</td><td colSpan="1" rowSpan="1" width="auto">111</td><td colSpan="1" rowSpan="1" width="auto">111</td><td colSpan="1" rowSpan="1" width="auto">111</td></tr></tbody></table><pre><code class="language-python">import numpy
  import pandas
  import os
  ... ... </code></pre><blockquote>å¼•ç”¨éƒ¨åˆ†</blockquote><p><br></p>`,
            type:'è½¬è½½',
            originLink:'https://sss',//å¦‚æœæ–‡ç« ç±»å‹ä¸ºè½¬è½½ï¼Œåä¹‹ä¸º'',
            sourceUrl:'https://sss.zip',//å¦‚æœæ–‡ç« å«æœ‰èµ„æºï¼Œåä¹‹ä¸º'',
            sourceName:'è¿™æ˜¯èµ„æº',
          },
        }
      },
      methods:{
        toSource(){//å»æ–‡ç« çš„æºç«™  
          window.location.replace(this.article.originLink);
        },
      },
      created() {//article.idçš„è·å–é€šè¿‡è·¯å¾„å‚æ•°
        const route=useRoute();
        this.article.id=route.params.id;
        console.log('load article page',this.article.id);
        //æ¥è‡ªæ¶ˆæ¯è·³è½¬
        getArticleDetail(this.article.id)
        .then(response=>{
          const status=response.status;
          if(status==200){//è¯·æ±‚æˆåŠŸ
            this.article.title=response.title;
            this.article.authorName=response.author_name;
            this.article.authorProfileUrl=response.author_profile_url;
            this.article.tags=response.tags;
            this.article.starCount=response.star_count;
            this.article.scanCount=response.scan_count;
            this.article.replyCount=response.reply_count;
            this.article.content=response.content;
            this.article.type=response.type;
            this.article.originLink=response.origin_link;
            this.article.sourceUrl=response.source_url;
            this.article.publishTime=response.publish_time;
          }else{
            this.$router.push({name:'ErrorPage',params:{reason:getStatusMessage('common',status).content}});
          }
        })
        .catch(error=>{
          console.error('Failed to fetch article detail',error);
          //æµ‹è¯•ä¸è·³è½¬
          return;
          /*
          
          this.alert(unknowError);
          //è·³è½¬åˆ°errorPage
          this.$router.push({name:'ErrorPage',params:{reason:'ç½‘ç»œé”™è¯¯'}});*/
        })
        //åœ¨ç»„ä»¶åŠ è½½å®Œæˆåï¼Œå°†Markdownæ–‡æœ¬è§£æä¸ºHTMLå¹¶èµ‹å€¼ç»™renderedMarkdown
        //this.renderedContent = marked(this.article.content);
      },
    }
  </script>
  
  <style>
    /* å¯é€‰æ ·å¼ */
  </style>